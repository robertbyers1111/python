#!/usr/bin/python3

# Computes all primes up to a max value. Uses division.

import os
import sys
from datetime import datetime
from datetime import timedelta

class Primes():

  def __init__(self):
    self.primes = []
    self.primes.append(2)

  def computeprimes(self,max):
    self.t0 = datetime.now()
    self.max = max

    for n in range(3,max+1,2):

      isprime=True
      stopval=int(n/2)

      for i in self.primes:

        if i > stopval:
          break
        if n % i == 0:
          isprime=False
          break

      if isprime:
        self.primes.append(n)

    self.t1 = datetime.now()
    self.delta = self.t1 - self.t0

  def showprimes(self):
    totfound = len(self.primes)
    print('Found',totfound,'primes from 1 to',self.max)
    print('Elapsed:',str(self.delta))

    if totfound <= 50:
      for k in self.primes:
        print('%12d' % (k))
    else:
      print()
      print('First 25 primes..')
      for k in self.primes[:25]:
        print('%12d' % (k))
      print()
      print('Last 25 primes..')
      for k in self.primes[-25:-1]:
        print('%12d' % (k))

#   +---------+
#---| M A I N |---
#   +---------+

nargs = len(sys.argv[1:])

if nargs == 0:
  num = 100
elif nargs == 1:
  num = int(sys.argv[1])
else:
  print('USAGE:',os.path.basename(__file__),'[max]')
  sys.exit(-1)

print('Computing primes up to',num,'..')

x = Primes()
x.computeprimes(num)
x.showprimes()

#   +---------------+
#---| R E S U L T S |----------------------------------------------------------
#   +---------------+
# 
# Computing primes up to 10 ..
# Found 4 primes from 1 to 10
# Elapsed: 0:00:00.000022
#            2
#            3
#            5
#            7
# Computing primes up to 100 ..
# Found 25 primes from 1 to 100
# Elapsed: 0:00:00.000096
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# Computing primes up to 1000 ..
# Found 168 primes from 1 to 1000
# Elapsed: 0:00:00.001597
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#          827
#          829
#          839
#          853
#          857
#          859
#          863
#          877
#          881
#          883
#          887
#          907
#          911
#          919
#          929
#          937
#          941
#          947
#          953
#          967
#          971
#          977
#          983
#          991
# Computing primes up to 5000 ..
# Found 669 primes from 1 to 5000
# Elapsed: 0:00:00.024178
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#         4793
#         4799
#         4801
#         4813
#         4817
#         4831
#         4861
#         4871
#         4877
#         4889
#         4903
#         4909
#         4919
#         4931
#         4933
#         4937
#         4943
#         4951
#         4957
#         4967
#         4969
#         4973
#         4987
#         4993
# Computing primes up to 10000 ..
# Found 1229 primes from 1 to 10000
# Elapsed: 0:00:00.085066
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#         9769
#         9781
#         9787
#         9791
#         9803
#         9811
#         9817
#         9829
#         9833
#         9839
#         9851
#         9857
#         9859
#         9871
#         9883
#         9887
#         9901
#         9907
#         9923
#         9929
#         9931
#         9941
#         9949
#         9967
# Computing primes up to 20000 ..
# Found 2262 primes from 1 to 20000
# Elapsed: 0:00:00.235387
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#        19763
#        19777
#        19793
#        19801
#        19813
#        19819
#        19841
#        19843
#        19853
#        19861
#        19867
#        19889
#        19891
#        19913
#        19919
#        19927
#        19937
#        19949
#        19961
#        19963
#        19973
#        19979
#        19991
#        19993
# Computing primes up to 30000 ..
# Found 3245 primes from 1 to 30000
# Elapsed: 0:00:00.469670
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#        29683
#        29717
#        29723
#        29741
#        29753
#        29759
#        29761
#        29789
#        29803
#        29819
#        29833
#        29837
#        29851
#        29863
#        29867
#        29873
#        29879
#        29881
#        29917
#        29921
#        29927
#        29947
#        29959
#        29983
# Computing primes up to 40000 ..
# Found 4203 primes from 1 to 40000
# Elapsed: 0:00:00.751904
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#        39761
#        39769
#        39779
#        39791
#        39799
#        39821
#        39827
#        39829
#        39839
#        39841
#        39847
#        39857
#        39863
#        39869
#        39877
#        39883
#        39887
#        39901
#        39929
#        39937
#        39953
#        39971
#        39979
#        39983
# Computing primes up to 50000 ..
# Found 5133 primes from 1 to 50000
# Elapsed: 0:00:01.126999
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#        49747
#        49757
#        49783
#        49787
#        49789
#        49801
#        49807
#        49811
#        49823
#        49831
#        49843
#        49853
#        49871
#        49877
#        49891
#        49919
#        49921
#        49927
#        49937
#        49939
#        49943
#        49957
#        49991
#        49993
# Computing primes up to 60000 ..
# Found 6057 primes from 1 to 60000
# Elapsed: 0:00:01.553105
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#        59671
#        59693
#        59699
#        59707
#        59723
#        59729
#        59743
#        59747
#        59753
#        59771
#        59779
#        59791
#        59797
#        59809
#        59833
#        59863
#        59879
#        59887
#        59921
#        59929
#        59951
#        59957
#        59971
#        59981
# Computing primes up to 70000 ..
# Found 6935 primes from 1 to 70000
# Elapsed: 0:00:02.056739
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#        69697
#        69709
#        69737
#        69739
#        69761
#        69763
#        69767
#        69779
#        69809
#        69821
#        69827
#        69829
#        69833
#        69847
#        69857
#        69859
#        69877
#        69899
#        69911
#        69929
#        69931
#        69941
#        69959
#        69991
# Computing primes up to 80000 ..
# Found 7837 primes from 1 to 80000
# Elapsed: 0:00:02.576933
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#        79777
#        79801
#        79811
#        79813
#        79817
#        79823
#        79829
#        79841
#        79843
#        79847
#        79861
#        79867
#        79873
#        79889
#        79901
#        79903
#        79907
#        79939
#        79943
#        79967
#        79973
#        79979
#        79987
#        79997
# Computing primes up to 90000 ..
# Found 8713 primes from 1 to 90000
# Elapsed: 0:00:03.153463
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#        89753
#        89759
#        89767
#        89779
#        89783
#        89797
#        89809
#        89819
#        89821
#        89833
#        89839
#        89849
#        89867
#        89891
#        89897
#        89899
#        89909
#        89917
#        89923
#        89939
#        89959
#        89963
#        89977
#        89983
# Computing primes up to 100000 ..
# Found 9592 primes from 1 to 100000
# Elapsed: 0:00:03.857062
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#        99719
#        99721
#        99733
#        99761
#        99767
#        99787
#        99793
#        99809
#        99817
#        99823
#        99829
#        99833
#        99839
#        99859
#        99871
#        99877
#        99881
#        99901
#        99907
#        99923
#        99929
#        99961
#        99971
#        99989
# Computing primes up to 200000 ..
# Found 17984 primes from 1 to 200000
# Elapsed: 0:00:13.329543
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#       199721
#       199729
#       199739
#       199741
#       199751
#       199753
#       199777
#       199783
#       199799
#       199807
#       199811
#       199813
#       199819
#       199831
#       199853
#       199873
#       199877
#       199889
#       199909
#       199921
#       199931
#       199933
#       199961
#       199967
# Computing primes up to 300000 ..
# Found 25997 primes from 1 to 300000
# Elapsed: 0:00:27.483377
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#       299683
#       299699
#       299701
#       299711
#       299723
#       299731
#       299743
#       299749
#       299771
#       299777
#       299807
#       299843
#       299857
#       299861
#       299881
#       299891
#       299903
#       299909
#       299933
#       299941
#       299951
#       299969
#       299977
#       299983
# Computing primes up to 400000 ..
# Found 33860 primes from 1 to 400000
# Elapsed: 0:00:46.691694
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#       399689
#       399691
#       399719
#       399727
#       399731
#       399739
#       399757
#       399761
#       399769
#       399781
#       399787
#       399793
#       399851
#       399853
#       399871
#       399887
#       399899
#       399911
#       399913
#       399937
#       399941
#       399953
#       399979
#       399983
# Computing primes up to 500000 ..
# Found 41538 primes from 1 to 500000
# Elapsed: 0:01:11.961720
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#       499673
#       499679
#       499687
#       499691
#       499693
#       499711
#       499717
#       499729
#       499739
#       499747
#       499781
#       499787
#       499801
#       499819
#       499853
#       499879
#       499883
#       499897
#       499903
#       499927
#       499943
#       499957
#       499969
#       499973
# Computing primes up to 600000 ..
# Found 49098 primes from 1 to 600000
# Elapsed: 0:01:41.185497
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#       599681
#       599693
#       599699
#       599701
#       599713
#       599719
#       599741
#       599759
#       599779
#       599783
#       599803
#       599831
#       599843
#       599857
#       599869
#       599891
#       599899
#       599927
#       599933
#       599939
#       599941
#       599959
#       599983
#       599993
# Computing primes up to 700000 ..
# Found 56543 primes from 1 to 700000
# Elapsed: 0:02:12.637265
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#       699557
#       699571
#       699581
#       699617
#       699631
#       699641
#       699649
#       699697
#       699709
#       699719
#       699733
#       699757
#       699761
#       699767
#       699791
#       699793
#       699817
#       699823
#       699863
#       699931
#       699943
#       699947
#       699953
#       699961
# Computing primes up to 800000 ..
# Found 63951 primes from 1 to 800000
# Elapsed: 0:03:27.086034
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#       799657
#       799661
#       799679
#       799723
#       799727
#       799739
#       799741
#       799753
#       799759
#       799789
#       799801
#       799807
#       799817
#       799837
#       799853
#       799859
#       799873
#       799891
#       799921
#       799949
#       799961
#       799979
#       799991
#       799993
# Computing primes up to 900000 ..
# Found 71274 primes from 1 to 900000
# Elapsed: 0:04:28.365743
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#       899659
#       899671
#       899681
#       899687
#       899693
#       899711
#       899719
#       899749
#       899753
#       899761
#       899779
#       899791
#       899807
#       899831
#       899849
#       899851
#       899863
#       899881
#       899891
#       899893
#       899903
#       899917
#       899939
#       899971
# Computing primes up to 1000000 ..
# Found 78498 primes from 1 to 1000000
# Elapsed: 0:04:12.806315
# 
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# 
# Last 25 primes..
#       999613
#       999623
#       999631
#       999653
#       999667
#       999671
#       999683
#       999721
#       999727
#       999749
#       999763
#       999769
#       999773
#       999809
#       999853
#       999863
#       999883
#       999907
#       999917
#       999931
#       999953
#       999959
#       999961
#       999979
