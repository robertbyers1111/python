#!/usr/bin/python3

# Computes all primes up to a max value. Uses division.

import os
import sys
from datetime import datetime
from datetime import timedelta

class Primes():

  def __init__(self):
    self.primes = []
    self.primes.append(2)

  def computePrimes(self,max):
    """ Returns a list of primes < max """

    self.t0 = datetime.now()
    self.max = max

    sieve = [True] * max

    for i in range(3,int(max**0.5)+1,2):
      if sieve[i]:
        sieve[i*i::2*i]=[False]*(int((max-i*i-1)/(2*i)+1))

    self.primes = [2] + [i for i in range(3,max,2) if sieve[i]]

    self.t1 = datetime.now()
    self.delta = self.t1 - self.t0

  # def computePrimes(self,max):
  #   self.t0 = datetime.now()
  #   self.max = max
  #
  #   for n in range(3,max+1,2):
  #
  #     isprime=True
  #     stopval=int(n/2)
  #
  #     for i in self.primes:
  #
  #       if i > stopval:
  #         break
  #       if n % i == 0:
  #         isprime=False
  #         break
  #
  #     if isprime:
  #       self.primes.append(n)
  #
  #   self.t1 = datetime.now()
  #   self.delta = self.t1 - self.t0

  def showprimes(self):
    totfound = len(self.primes)
    print('Found',totfound,'primes from 1 to',self.max)
    print('Elapsed:',str(self.delta))

    if totfound <= 50:
      for k in self.primes:
        print('%12d' % (k))
    else:
      print()
      print('First 25 primes..')
      for k in self.primes[:25]:
        print('%12d' % (k))
      print()
      print('Last 25 primes..')
      for k in self.primes[-25:-1]:
        print('%12d' % (k))

#   +---------+
#---| M A I N |---
#   +---------+

nargs = len(sys.argv[1:])

if nargs == 0:
  num = 100
elif nargs == 1:
  num = int(sys.argv[1])
else:
  print('USAGE:',os.path.basename(__file__),'[max]')
  sys.exit(-1)

print('Computing primes up to',num,'..')

x = Primes()
x.computePrimes(num)
x.showprimes()

#   +---------------+
#---| R E S U L T S |----------------------------------------------------------
#   +---------------+
#
# METHOD: Seive
#
# Computing primes up to 10 ..
# Found 4 primes from 1 to 10
# Elapsed: 0:00:00.000039
#            2
#            3
#            5
#            7
# Computing primes up to 100 ..
# Found 25 primes from 1 to 100
# Elapsed: 0:00:00.000044
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
# Computing primes up to 1,000 ..
# Found 168 primes from 1 to 1,000
# Elapsed: 0:00:00.000409
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#          827
#          829
#          839
#          853
#          857
#          859
#          863
#          877
#          881
#          883
#          887
#          907
#          911
#          919
#          929
#          937
#          941
#          947
#          953
#          967
#          971
#          977
#          983
#          991
# Computing primes up to 5,000 ..
# Found 669 primes from 1 to 5,000
# Elapsed: 0:00:00.000286
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#         4,793
#         4,799
#         4,801
#         4,813
#         4,817
#         4,831
#         4,861
#         4,871
#         4,877
#         4,889
#         4,903
#         4,909
#         4,919
#         4,931
#         4,933
#         4,937
#         4,943
#         4,951
#         4,957
#         4,967
#         4,969
#         4,973
#         4,987
#         4,993
# Computing primes up to 10,000 ..
# Found 1,229 primes from 1 to 10,000
# Elapsed: 0:00:00.000526
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#         9,769
#         9,781
#         9,787
#         9,791
#         9,803
#         9,811
#         9,817
#         9,829
#         9,833
#         9,839
#         9,851
#         9,857
#         9,859
#         9,871
#         9,883
#         9,887
#         9,901
#         9,907
#         9,923
#         9,929
#         9,931
#         9,941
#         9,949
#         9,967
# Computing primes up to 20,000 ..
# Found 2,262 primes from 1 to 20,000
# Elapsed: 0:00:00.001073
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#        19,763
#        19,777
#        19,793
#        19,801
#        19,813
#        19,819
#        19,841
#        19,843
#        19,853
#        19,861
#        19,867
#        19,889
#        19,891
#        19,913
#        19,919
#        19,927
#        19,937
#        19,949
#        19,961
#        19,963
#        19,973
#        19,979
#        19,991
#        19,993
# Computing primes up to 30,000 ..
# Found 3,245 primes from 1 to 30,000
# Elapsed: 0:00:00.002425
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#        29,683
#        29,717
#        29,723
#        29,741
#        29,753
#        29,759
#        29,761
#        29,789
#        29,803
#        29,819
#        29,833
#        29,837
#        29,851
#        29,863
#        29,867
#        29,873
#        29,879
#        29,881
#        29,917
#        29,921
#        29,927
#        29,947
#        29,959
#        29,983
# Computing primes up to 40,000 ..
# Found 4,203 primes from 1 to 40,000
# Elapsed: 0:00:00.006766
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#        39,761
#        39,769
#        39,779
#        39,791
#        39,799
#        39,821
#        39,827
#        39,829
#        39,839
#        39,841
#        39,847
#        39,857
#        39,863
#        39,869
#        39,877
#        39,883
#        39,887
#        39,901
#        39,929
#        39,937
#        39,953
#        39,971
#        39,979
#        39,983
# Computing primes up to 50,000 ..
# Found 5,133 primes from 1 to 50,000
# Elapsed: 0:00:00.004783
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#        49,747
#        49,757
#        49,783
#        49,787
#        49,789
#        49,801
#        49,807
#        49,811
#        49,823
#        49,831
#        49,843
#        49,853
#        49,871
#        49,877
#        49,891
#        49,919
#        49,921
#        49,927
#        49,937
#        49,939
#        49,943
#        49,957
#        49,991
#        49,993
# Computing primes up to 60,000 ..
# Found 6,057 primes from 1 to 60,000
# Elapsed: 0:00:00.004723
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#        59,671
#        59,693
#        59,699
#        59,707
#        59,723
#        59,729
#        59,743
#        59,747
#        59,753
#        59,771
#        59,779
#        59,791
#        59,797
#        59,809
#        59,833
#        59,863
#        59,879
#        59,887
#        59,921
#        59,929
#        59,951
#        59,957
#        59,971
#        59,981
# Computing primes up to 70,000 ..
# Found 6,935 primes from 1 to 70,000
# Elapsed: 0:00:00.006342
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#        69,697
#        69,709
#        69,737
#        69,739
#        69,761
#        69,763
#        69,767
#        69,779
#        69,809
#        69,821
#        69,827
#        69,829
#        69,833
#        69,847
#        69,857
#        69,859
#        69,877
#        69,899
#        69,911
#        69,929
#        69,931
#        69,941
#        69,959
#        69,991
# Computing primes up to 80,000 ..
# Found 7,837 primes from 1 to 80,000
# Elapsed: 0:00:00.006803
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#        79,777
#        79,801
#        79,811
#        79,813
#        79,817
#        79,823
#        79,829
#        79,841
#        79,843
#        79,847
#        79,861
#        79,867
#        79,873
#        79,889
#        79,901
#        79,903
#        79,907
#        79,939
#        79,943
#        79,967
#        79,973
#        79,979
#        79,987
#        79,997
# Computing primes up to 90,000 ..
# Found 8,713 primes from 1 to 90,000
# Elapsed: 0:00:00.007190
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#        89,753
#        89,759
#        89,767
#        89,779
#        89,783
#        89,797
#        89,809
#        89,819
#        89,821
#        89,833
#        89,839
#        89,849
#        89,867
#        89,891
#        89,897
#        89,899
#        89,909
#        89,917
#        89,923
#        89,939
#        89,959
#        89,963
#        89,977
#        89,983
# Computing primes up to 100,000 ..
# Found 9,592 primes from 1 to 100,000
# Elapsed: 0:00:00.009541
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#        99,719
#        99,721
#        99,733
#        99,761
#        99,767
#        99,787
#        99,793
#        99,809
#        99,817
#        99,823
#        99,829
#        99,833
#        99,839
#        99,859
#        99,871
#        99,877
#        99,881
#        99,901
#        99,907
#        99,923
#        99,929
#        99,961
#        99,971
#        99,989
# Computing primes up to 200,000 ..
# Found 17,984 primes from 1 to 200,000
# Elapsed: 0:00:00.026333
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#       199,721
#       199,729
#       199,739
#       199,741
#       199,751
#       199,753
#       199,777
#       199,783
#       199,799
#       199,807
#       199,811
#       199,813
#       199,819
#       199,831
#       199,853
#       199,873
#       199,877
#       199,889
#       199,909
#       199,921
#       199,931
#       199,933
#       199,961
#       199,967
# Computing primes up to 300,000 ..
# Found 25,997 primes from 1 to 300,000
# Elapsed: 0:00:00.020248
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#       299,683
#       299,699
#       299,701
#       299,711
#       299,723
#       299,731
#       299,743
#       299,749
#       299,771
#       299,777
#       299,807
#       299,843
#       299,857
#       299,861
#       299,881
#       299,891
#       299,903
#       299,909
#       299,933
#       299,941
#       299,951
#       299,969
#       299,977
#       299,983
# Computing primes up to 400,000 ..
# Found 33,860 primes from 1 to 400,000
# Elapsed: 0:00:00.038022
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#       399,689
#       399,691
#       399,719
#       399,727
#       399,731
#       399,739
#       399,757
#       399,761
#       399,769
#       399,781
#       399,787
#       399,793
#       399,851
#       399,853
#       399,871
#       399,887
#       399,899
#       399,911
#       399,913
#       399,937
#       399,941
#       399,953
#       399,979
#       399,983
# Computing primes up to 500,000 ..
# Found 41,538 primes from 1 to 500,000
# Elapsed: 0:00:00.047702
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#       499,673
#       499,679
#       499,687
#       499,691
#       499,693
#       499,711
#       499,717
#       499,729
#       499,739
#       499,747
#       499,781
#       499,787
#       499,801
#       499,819
#       499,853
#       499,879
#       499,883
#       499,897
#       499,903
#       499,927
#       499,943
#       499,957
#       499,969
#       499,973
# Computing primes up to 600,000 ..
# Found 49,098 primes from 1 to 600,000
# Elapsed: 0:00:00.047082
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#       599,681
#       599,693
#       599,699
#       599,701
#       599,713
#       599,719
#       599,741
#       599,759
#       599,779
#       599,783
#       599,803
#       599,831
#       599,843
#       599,857
#       599,869
#       599,891
#       599,899
#       599,927
#       599,933
#       599,939
#       599,941
#       599,959
#       599,983
#       599,993
# Computing primes up to 700,000 ..
# Found 56,543 primes from 1 to 700,000
# Elapsed: 0:00:00.063242
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#       699,557
#       699,571
#       699,581
#       699,617
#       699,631
#       699,641
#       699,649
#       699,697
#       699,709
#       699,719
#       699,733
#       699,757
#       699,761
#       699,767
#       699,791
#       699,793
#       699,817
#       699,823
#       699,863
#       699,931
#       699,943
#       699,947
#       699,953
#       699,961
# Computing primes up to 800,000 ..
# Found 63,951 primes from 1 to 800,000
# Elapsed: 0:00:00.062507
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#       799,657
#       799,661
#       799,679
#       799,723
#       799,727
#       799,739
#       799,741
#       799,753
#       799,759
#       799,789
#       799,801
#       799,807
#       799,817
#       799,837
#       799,853
#       799,859
#       799,873
#       799,891
#       799,921
#       799,949
#       799,961
#       799,979
#       799,991
#       799,993
# Computing primes up to 900,000 ..
# Found 71,274 primes from 1 to 900,000
# Elapsed: 0:00:00.085374
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#       899,659
#       899,671
#       899,681
#       899,687
#       899,693
#       899,711
#       899,719
#       899,749
#       899,753
#       899,761
#       899,779
#       899,791
#       899,807
#       899,831
#       899,849
#       899,851
#       899,863
#       899,881
#       899,891
#       899,893
#       899,903
#       899,917
#       899,939
#       899,971
# Computing primes up to 1,000,000 ..
# Found 78,498 primes from 1 to 1,000,000
# Elapsed: 0:00:00.081560
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#       999,613
#       999,623
#       999,631
#       999,653
#       999,667
#       999,671
#       999,683
#       999,721
#       999,727
#       999,749
#       999,763
#       999,769
#       999,773
#       999,809
#       999,853
#       999,863
#       999,883
#       999,907
#       999,917
#       999,931
#       999,953
#       999,959
#       999,961
#       999,979
# Computing primes up to 10,000,000 ..
# Found 664,579 primes from 1 to 10,000,000
# Elapsed: 0:00:00.581574
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#      9,999,593
#      9,999,601
#      9,999,637
#      9,999,653
#      9,999,659
#      9,999,667
#      9,999,677
#      9,999,713
#      9,999,739
#      9,999,749
#      9,999,761
#      9,999,823
#      9,999,863
#      9,999,877
#      9,999,883
#      9,999,889
#      9,999,901
#      9,999,907
#      9,999,929
#      9,999,931
#      9,999,937
#      9,999,943
#      9,999,971
#      9,999,973
# Computing primes up to 100,000,000 ..
# Found 5,761,455 primes from 1 to 100,000,000
# Elapsed: 0:00:06.930503
#
# First 25 primes..
#            2
#            3
#            5
#            7
#           11
#           13
#           17
#           19
#           23
#           29
#           31
#           37
#           41
#           43
#           47
#           53
#           59
#           61
#           67
#           71
#           73
#           79
#           83
#           89
#           97
#
# Last 25 primes..
#     99,999,539
#     99,999,541
#     99,999,547
#     99,999,551
#     99,999,563
#     99,999,587
#     99,999,589
#     99,999,611
#     99,999,617
#     99,999,623
#     99,999,643
#     99,999,677
#     99,999,703
#     99,999,721
#     99,999,773
#     99,999,787
#     99,999,821
#     99,999,827
#     99,999,839
#     99,999,847
#     99,999,931
#     99,999,941
#     99,999,959
#     99,999,971
